<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulador JSON Bidireccional</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>
        Simulador JSON Cliente / Servidor
      </h1>

      <section class="controls">
        <div class="control-row">
          <label for="idSelector">Usuario:</label>
          <select id="idSelector" disabled>
            <option value="">Cargando usuarios...</option>
          </select>
        </div>

        <div class="control-row">
          <label for="keySelector">Campo:</label>
          <select id="keySelector">
          </select>

          <div id="nestedSelectors" class="nested"></div>

          <label for="editType">Editar:</label>
          <select id="editType">
            <option value="value">Valor</option>
            <option value="key">Clave</option>
          </select>

          <input
            type="text"
            id="newValue"
            placeholder="Nuevo valor / nueva clave"
          />
        </div>

        <div class="control-row">
          <label for="direccion">Dirección:</label>
          <div class="direction-selector">
            <select id="direccion">
              <option value="cliente-servidor">Cliente → Servidor</option>
              <option value="servidor-cliente">Servidor → Cliente</option>
            </select>
            <button class="btn-send" onclick="enviarDatos()">Enviar</button>
            <button class="btn-apply" onclick="editarJSON()">Aplicar</button>
          </div>
        </div>
      </section>

      <section class="panels">
        <div class="panel">
          <div class="panel-header">
            <span class="panel-title">CLIENTE</span>
          </div>
          <div class="panel-content">
            <div class="action-list" id="clienteAcciones"></div>
            <div class="message-log" id="clienteLog"></div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-header">
            <span class="panel-title">SERVIDOR</span>
          </div>
          <div class="panel-content">
            <div class="action-list" id="servidorAcciones"></div>
            <div class="message-log" id="servidorLog"></div>
          </div>
        </div>
      </section>

      <section class="states">
        <div class="state-box">
          <div class="state-header">
            <span class="state-title">Estado Cliente</span>
          </div>
          <pre class="json-display" id="estadoCliente"></pre>
        </div>

        <div class="state-box">
          <div class="state-header">
            <span class="state-title">Estado Servidor</span>
          </div>
          <pre class="json-display" id="estadoServidor"></pre>
        </div>
      </section>

      <textarea id="jsonInput" class="visually-hidden"></textarea>
      <pre id="sendOutput" class="visually-hidden"></pre>
      <pre id="output" class="visually-hidden"></pre>
    </div>

    <script src="script.js"></script>
    <footer>
      <p>
        <span>trabajo realizado por: jorge luis crucerira molina</span>
        <span>Aprendiz de analisis y desarrollo de software</span>
        <span>Ficha #3064975</span>
        <span>2025</span>
      </p>
    </footer>
  </body>
</html>